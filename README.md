# üìä Term Frequency –Ω–∞ Django

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤. –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—á—ë—Ç TF/IDF –º–µ—Ç—Ä–∏–∫, —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Django, PostgreSQL, Matplotlib –∏ Docker.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ `.txt` —Ñ–∞–π–ª–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ñ–æ—Ä–º–∞—Ç–∞
- üî¢ –ü–æ–¥—Å—á—ë—Ç TF (term frequency) –∏ IDF (inverse document frequency)
- üìà –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:
  - –¢–æ–ø-10 —Å–ª–æ–≤ –ø–æ TF
  - –¢–æ–ø-10 —Å–ª–æ–≤ –ø–æ IDF
  - –ß–∞—Å—Ç–æ—Ç–Ω–æ—Å—Ç—å —Å–ª–æ–≤
- üß† –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (`FileMetric`)
- üê≥ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ª—ë–≥–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- üß™ –ú–µ—Ç—Ä–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
- üìÑ Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è API

---

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

<pre><code>
Lesta/ 
‚îú‚îÄ‚îÄ base/                # –û—Å–Ω–æ–≤–Ω–æ–µ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 
‚îú‚îÄ‚îÄ Lesta_task/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ 
‚îú‚îÄ‚îÄ templates/           # HTML-—à–∞–±–ª–æ–Ω—ã 
‚îú‚îÄ‚îÄ static/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã 
‚îú‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ 
‚îÇ   ‚îî‚îÄ‚îÄ database_structure.md  # –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ë–î
‚îú‚îÄ‚îÄ db.sqlite3           # –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏) 
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è 
‚îú‚îÄ‚îÄ Dockerfile           # Docker-–æ–±—Ä–∞–∑ 
‚îú‚îÄ‚îÄ docker-compose.yml   # Compose-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 
‚îî‚îÄ‚îÄ manage.py            # Django CLI 
</code></pre>

üìÑ [–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î](docs/database_structure.md)

---

## üìò Swagger API

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ ‚Äî –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:

[‚û°Ô∏è Swagger UI](http://localhost:8000/swagger/)

> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `drf-yasg`

---

## üß™ –ú–µ—Ç—Ä–∏–∫–∏

–ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É [`/metrics/`](http://localhost:8000/metrics/):

- `files_processed` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- `min_time_processed`, `avg_time_processed`, `max_time_processed` ‚Äî –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `latest_file_processed_timestamp` ‚Äî –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

1. –°–æ–∑–¥–∞–π `.env`:
   ```env
   DEBUG=True
   SECRET_KEY=your-secret-key
   APP_VERSION=1.2.3
   POSTGRES_DB=lesta_db
   POSTGRES_USER=lesta_user
   POSTGRES_PASSWORD=lesta_pass
   POSTGRES_HOST=db
   POSTGRES_PORT=5432

---
Changelog

## [1.2.3] - 2025-06-16
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ postgresql
- –§—É–Ω–∫—Ü–∏–∏ –≤—Ö–æ–¥–∞, –≤—ã—Ö–æ–¥–∞, —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
- –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã


## [1.1.3] - 2025-06-11
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –ú–µ—Ç—Ä–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ (min, max, avg time, timestamp)
- –í—ã–Ω–µ—Å–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ `.env`
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ —Å `PostgreSQL` –Ω–∞ `SQLite3`

## [1.1.2] - 2025-06-10
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã `/metrics/`, `/version/`, `/status/`

## [1.0.0] - 2025-03-30
### –ù–∞—á–∞–ª–æ –ø—Ä–æ–µ–∫—Ç–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ü–æ–¥—Å—á—ë—Ç —Å–ª–æ–≤ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ TF-–≥—Ä–∞—Ñ–∏–∫–∞
